<h1>Total Order Price: {{ totalOrderPrice }} $</h1>

<div class="mb-3">
  <select class="form-select form-select-lg" [(ngModel)]="selectedCatId">
    <option *ngFor="let category of categories" [value]="category.id">
      {{ category.name }}
    </option>
  </select>
</div>

<div class="row row-cols-1 row-cols-md-4 g-4">
  @for (product of products; track product.id; let i = $index) {
  <div class="col">
    <div
      class="card"
      appHighlightCard = 'gray'
      externalColor = 'pink'
    >
      <img [src]="product.imgUrl" class="card-img-top" [alt]="product.name" />
      <div
        class="card-body"
      >
        <h5 class="card-title">{{ i + 1 + "." }}{{ product.name }}</h5>
        <p class="card-text">Price: {{ product.price }}</p>

        @switch (product.quantity) { @case (1) {
        <p>Quantity: Last Item</p>
        } @case (2) {
        <p>Quantity: Last Two Items</p>
        } @default {
        <p>Quantity: {{ product.quantity }}</p>

        } }

        <!-- Template variable, reference -->
        <input type="number" #countInp value="1" />
        <button class="btn btn-success" (click)="buy(countInp.value, product)">
          Buy
        </button>
      </div>
    </div>
  </div>
  }@empty{
  <h1>No Products Found</h1>
  }
</div>
